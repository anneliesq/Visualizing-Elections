function isAddUserButtonEnabled(){return!$('[aria-label="Add people"]').hasClass("disabled")}function isAddCourseButtonEnabled(){return!$('[aria-label="Create new course"]').hasClass("disabled")}function disableAddUserButton(){$('[aria-label="Add people"]').first().addClass("Button disabled")}function disableAddCourseButton(){$('[aria-label="Create new course"]').first().addClass("Button disabled")}function initDisableAddUserCourse(){if($("body[class*=context-account_]")){disableAddCourseButton();disableAddUserButton()}}$(document).ready(initDisableAddUserCourse);function addReferrerPolicy(){$('iframe[src*="/course_info/widget.html"]').each((function(){$(this).attr("referrerpolicy","no-referrer-when-downgrade");$(this).attr("src",$(this).attr("src"))}))}$(document).ready(addReferrerPolicy);function addAnalyticsTextBlock(guidance_text){var p=window.location.pathname.split("/");var resource=p[p.length-1];if(resource=="analytics"){$(".course_graphs").before(guidance_text)}}function initAnalyticsTextBlock(){var guidance_text='<div id="analytics-guidance" class="tlt-analytics-center-alert-info">'+'\t<div class="tlt-analytics-alert-info">'+"\t\tThe Faculty Oversight Committee on the Access to Electronic Information provides"+' \t\t<a href="https://huit.harvard.edu/privacy/canvas#oversight" target="_blank">'+" \t\t<strong>guidance to faculty</strong></a> on using these analytics."+"\t</div>"+"</div>";if(document.title==="New Analytics"){$("#content").prepend(guidance_text)}else{MutationObserver=window.MutationObserver||window.WebKitMutationObserver;var analyticsObserver=new MutationObserver((function(mutations){mutations.forEach((function(mutation){if($("#analytics-guidance").length==0){var $target=$(mutation.target);if($target.find(".course_graphs").length!=0){addAnalyticsTextBlock(guidance_text);analyticsObserver.disconnect()}}}))}));var $config={childList:true,subtree:true,attributes:false,characterData:false};analyticsObserver.observe(document.body,$config)}}$(document).ready(initAnalyticsTextBlock);var ACCOUNTS=[];var FETCH_OPTIONS={credentials:"same-origin",headers:{Accept:"application/json"}};function fetchCourse(course_id){return fetch("/api/v1/courses/"+course_id,FETCH_OPTIONS).then(handleResponse)}function fetchAccount(account_id){return fetch("/api/v1/accounts/"+account_id,FETCH_OPTIONS).then(handleResponse)}function fetchCourseAccount(course){return fetchAccount(course.account_id)}function fetchAccountParents(account){ACCOUNTS.push(account);if(account.parent_account_id){return fetchAccount(account.parent_account_id).then(fetchAccountParents)}return ACCOUNTS}function handleResponse(response){if(response.ok)return response.json();const accountInfo=getFallbackAccountInfo(response.url);if(accountInfo!==null)return accountInfo;const msg="API request "+response.url+" failed with status code "+response.status;throw new Error(msg)}function getFallbackAccountInfo(url){const reAccountUrl=/\/api\/v1\/accounts\/(?<accountId>\d+)$/;const match=reAccountUrl.exec(url);const accountId=match?.groups?.accountId;if(!accountId)return null;return{name:"Harvard University"}}function getAccountsPath(accounts){return accounts.slice().reverse().map((function(account){return account.id?'<a href="/accounts/'+account.id+'">'+account.name+"</a>":account.name})).join(" > ")}function annotatePage(text,style){style=style||{};style.color=style.color||"#000";style.backgroundColor=style.backgroundColor||"#ddd";var div,el=document.getElementById("course_account_id");if(el){div=document.createElement("div");div.style.display="block";div.style.color=style.color;div.style.backgroundColor=style.backgroundColor;div.style.padding=".5em";div.style.marginBottom="1em";if(el.tagName==="SPAN")div.style.marginTop="1em";div.innerHTML=text;el.parentNode.appendChild(div);el.closest(".form-row").style.alignItems="flex-start"}return el}function displayAccounts(accounts){var text=getAccountsPath(accounts);annotatePage("Account: "+text)||alert(text);return accounts}function handleError(errorObject){console.log(errorObject);return errorObject}function fetchAccountInfo(){const courseId=ENV["COURSE_ID"]||null;if(courseId){fetchCourse(courseId).then(fetchCourseAccount).then(fetchAccountParents).then(displayAccounts).catch(handleError)}else{var msg="Please run this on a Canvas Course Settings page.";console.log(msg)}}function initAddSchoolDetail(){var reCourseSettingsPage=/courses\/.+?\/settings/;var windowUrl=window.location.pathname;var onCourseSettingsPage=windowUrl.search(reCourseSettingsPage)!=-1;if(onCourseSettingsPage){fetchAccountInfo()}}$(document).ready(initAddSchoolDetail);function addCourseConcludeButtonDisabledMessage(){var msg="(Please contact your local academic support staff to conclude the course)";var $concludeButton=$("a[class~='Button'][href$='event=conclude']");$concludeButton.addClass("conclude_course_link");$concludeButton.append("<p><em>"+msg+"</em></p>")}function addCourseConcludeDateDisabledMessage(){var msg="(Please contact your local academic support staff to change the course conclude date)";if($("#course_conclude_at").closest("tr").find("p").length==0){$("#course_conclude_at").closest("tr").find("div.aside").after("<p><em>"+msg+"</em></p>")}}function addCourseUnconcludeButtonDisabledMessage(){var msg="(Please contact your local academic support staff to un-conclude this course)";var $unconcludeButton=$("form[action$='unconclude']").find("button");$unconcludeButton.addClass("unconclude_course_link");$unconcludeButton.append("<p><em>"+msg+"</em></p>")}function disableCourseConcludeButton(){var $concludeButton=$("a[class~='Button'][href$='event=conclude']");$concludeButton.attr("disabled",true)}function disableCourseUnconcludeButton(){var $unconcludeButton=$("form[action$='unconclude']").find("button");$unconcludeButton.attr("disabled",true)}function disableCourseConcludeDate(){var $concludeDateUIComponents=$("#course_conclude_at").closest("tr").find("div, i, input, button");$concludeDateUIComponents.addClass("selection-disabled").attr("disabled",true)}function isConcludeButtonPresent(){return $("a[class~='Button'][href$='event=conclude']").length>0}function isCopyButtonPresent(){return $("a[class~='copy_course_link']").length>0}function sortRoleDropdown(){var roleSelect=$("select").first();var optList=roleSelect.find("option");var selected=roleSelect.val();optList.sort((function(a,b){if(a.text>b.text)return 1;if(a.text<b.text)return-1;return 0}));roleSelect.empty().append(optList);roleSelect.val(selected)}function disableCopyCourseButton(){$("a.copy_course_link").addClass("disabled")}function initHUGlobal(){var reCourseSettingsPage=/courses\/.+?\/settings/;var windowUrl=window.location.pathname;var onCourseSettingsPage=windowUrl.search(reCourseSettingsPage)!=-1;if(onCourseSettingsPage){if(isCopyButtonPresent()){disableCopyCourseButton()}if(isConcludeButtonPresent()){disableCourseConcludeButton()}else{disableCourseUnconcludeButton();addCourseUnconcludeButtonDisabledMessage()}}if($('[data-automation="courses list"]').length>0){sortTermDropdown()}else if($('[aria-label="Add people"]').length>0){sortRoleDropdown()}var classAttrObserver=new MutationObserver((function(mutations){mutations.forEach((function(mutation){if(isAddCourseButtonEnabled()){disableAddCourseButton()}if(isAddUserButtonEnabled()){disableAddUserButton()}var $target=$(mutation.target);if($target.not(".datepickerDisabled").hasClass("hasDatepicker")){$target.addClass("datepickerDisabled");disableCourseConcludeDate();addCourseConcludeDateDisabledMessage();classAttrObserver.disconnect()}}))}));var $content=$("#content");if($content.length>0){classAttrObserver.observe($content.get(0),{childList:true,subtree:true,attributes:true,characterData:false,attributeFilter:["class"]})}}$(document).ready(initHUGlobal);function isResetCourseButtonPresent(){$resetBtn=$(".reset_course_content_button");return $resetBtn.length>0}function disableCourseResetButton(){$(".reset_course_content_button").removeAttr("href").addClass("disabled")}function initDisableCourseReset(){var reCourseSettingsPage=/courses\/.+?\/settings/;var windowUrl=window.location.pathname;var onCourseSettingsPage=windowUrl.search(reCourseSettingsPage)!=-1;if(onCourseSettingsPage&&isResetCourseButtonPresent()){disableCourseResetButton()}}$(document).ready(initDisableCourseReset);function addSelectListHandler(mutations,observer){const roleList=document.getElementsByName("enrollment_role_id").item(0);if(!roleList&&typeof observer==="undefined"){const obs=new MutationObserver(addSelectListHandler);obs.observe(document.body,{childList:true,subtree:true})}if(roleList){if(typeof observer!=="undefined"){observer.disconnect()}roleList.onfocus=function(){$("select[name='enrollment_role_id'] option:contains('(0)')").remove()}}}$(document).ready((function(e){var reCourseSettingsPage=/courses\/.+?\/settings/;var reCoursePeoplePage=/courses\/.+?\/users/;var windowUrl=window.location.pathname;var onCourseSettingsPage=windowUrl.search(reCourseSettingsPage)!=-1;var onCoursePeoplePage=windowUrl.search(reCoursePeoplePage)!=-1;if(onCourseSettingsPage){$("aside#right-side > div > table.summary > tbody > tr > td:contains('None')").parent().hide()}if(onCoursePeoplePage){addSelectListHandler()}}));$(document).ready((function(e){var copyYear=(new Date).getFullYear();var harvardCopy="<div>Copyright &copy; 2013-"+copyYear+" The President and Fellows of Harvard College | "+'<a href="https://harvard.service-now.com/ithelp?id=kb_article&sys_id=9d718485db0d57cc83a2f3f7bf961902" id="acceptable_use_policy_link" target="_blank">Acceptable Use Policy</a> | '+'<a href="https://accessibility.huit.harvard.edu/digital-accessibility-policy" id="accessibility_link" target="_blank">Accessibility</a> | '+'<a href="https://harvard.service-now.com/ithelp?id=kb_article&sys_id=3373044ddb4d57cc83a2f3f7bf961909" id="privacy_policy_link" target="_blank">Privacy Policy</a>'+"</div>";$("footer").html(harvardCopy)}));if(window.ga){try{ga("create","UA-49649810-4","auto","huTracker");ga("huTracker.set","anonymizeIp",true);if(typeof ENV!=="undefined"){ga("huTracker.set","dimension1",ENV.COURSE_ID);if(ENV.current_user_roles.indexOf("admin")!=-1){ga("huTracker.set","dimension2","admin")}else if(ENV.current_user_roles.indexOf("teacher")!=-1){ga("huTracker.set","dimension2","teacher")}else if(ENV.current_user_roles.indexOf("student")!=-1){ga("huTracker.set","dimension2","student")}else{ga("huTracker.set","dimension2","user")}}ga("huTracker.send","pageview")}catch(err){console.log("huTracker failed")}}else{console.log("window.ga was not present")}(function(){function onEditablePage(){return $("body").hasClass("syllabus")||$("body").hasClass("pages")}(function init(){if(onEditablePage()){window.addEventListener("message",receiveMessage,false);function receiveMessage(event){var valid_origins=["https://canvas-course-info.dev.tlt.harvard.edu","https://canvas-course-info.qa.tlt.harvard.edu","https://canvas-course-info.tlt.harvard.edu","https://canvas-course-info.local.tlt.harvard.edu","https://canvas-course-info.stage.tlt.harvard.edu","https://local.tlt.harvard.edu:8000"];if(!valid_origins.includes(event.origin)){console.log("event origin not valid: "+event.origin);return}if(event.data.message!=="ready_for_resize"){console.log("event message incorrect -- ignoring event");return}if(typeof event.data.height!=="number"){console.log("event had no height number -- skipping");return}frames=$("iframe");if(frames.length>0){for(var i=0;i<frames.length;i++){if(frames[i].contentWindow===event.source){frames[i].style.cssText="";frames[i].height=event.data.height;frames[i].width="100%";break}}}}}})()})();var huToolVisibilityRestricted=["A/B Testing Tool","Manage People","Manage Sections","Course Emailer","Import iSites Content","Manage Course"];function huFuzzyVisUpdate(tool){var element=$("div[id='left-side'] a[class^='context_external_tool']:contains('"+tool+"')");element.attr("title","Not visible to students");return element.append('<i class="nav-icon icon-off" title="Not visible to students"  aria-hidden="true" role="presentation"></i>')}function huExactVisUpdate(tool){var element=$("div[id='left-side'] a[class^='context_external_tool']").filter((function(){return $(this).text()===tool}));element.attr("title","Not visible to students");return element.append('<i class="nav-icon icon-off"  title="Not visible to students" aria-hidden="true" role="presentation"></i>')}function huUpdateCustomToolsVisibilityIndicator(toolList,exactMatch){var updateFunction=exactMatch===true?huExactVisUpdate:huFuzzyVisUpdate;$.each(toolList,(function(index,tool){updateFunction(tool)}))}$(document).ready(huUpdateCustomToolsVisibilityIndicator(huToolVisibilityRestricted));function initAddPronounText(){var windowUrl=window.location.pathname;var onProfileSettingsPage=windowUrl.search(/\/profile\/settings/)!=-1;if(onProfileSettingsPage){var textSpan=$("#pronouns").parent().children().last();textSpan.html('    <br/>This pronoun will appear after your name when enabled.    If you would like to do so, use this section to identify,     change, or delete your chosen personal pronouns. Currently     Canvas requires users to choose from a limited     prepopulated list of personal pronouns. We respect that     language is constantly evolving and members of our community     should be able to be called and describe their identity     however they choose, so we are working to enable that option     within Canvas. To learn more about gender, identity,     or pronouns and to provide feedback, visit:     <a href="https://dib.harvard.edu/gender-pronouns">    https://dib.harvard.edu/gender-pronouns</a>.    ');$("#pronouns").parent().parent().children("th").css("vertical-align","top")}}$(document).ready(initAddPronounText);function sortTermDropdown(){var optGroupList=$("select").first().find("optgroup");for(var i=0;i<optGroupList.length;i++){var termList=optGroupList.eq(i).find("option");termList.sort((function(a,b){return a.label>=b.label?-1:1}));optGroupList.eq(i).html(termList)}}function sortTermTable(){var termRowList=$("table#terms tbody tr.term").get();var re_letter=/^[A-Za-z]/;var re_number=/^[0-9]/;var topList=new Array;var bottomList=new Array;for(var i=0;i<termRowList.length;i++){if(termRowList[i].getElementsByClassName("name")[0].innerHTML.match(re_number)){topList.push(termRowList[i])}else{bottomList.push(termRowList[i])}}var newList=topList.sort((function(a,b){var alabel=a.getElementsByClassName("name")[0].innerHTML;var blabel=b.getElementsByClassName("name")[0].innerHTML;return alabel>=blabel?-1:1})).concat(bottomList.sort((function(a,b){var alabel=a.getElementsByClassName("name")[0].innerHTML;var blabel=b.getElementsByClassName("name")[0].innerHTML;return alabel>=blabel?1:-1})));$("table#terms").children("tbody").append(newList)}$(document).ready((function(){if($("table#terms").length>0){sortTermTable()}}));$(document).ajaxStop((function(){if($('[data-automation="courses list"]').length>0){sortTermDropdown()}else if($('[aria-label="Add people"]').length>0){sortRoleDropdown()}}));require(["jquery"],(function($){function is_course_page(){return/^\/courses\/\d+/.test(window.location.pathname)}function modify_unauthorized_message(msg){var $holder=$("#unauthorized_holder");if($holder.length>0){$holder.find("h2").html(msg.title);$holder.find("p").replaceWith(msg.content);$holder.find("p:first").css({paddingBottom:0})}}if(is_course_page()){modify_unauthorized_message({title:"Not Available",content:'<p>You do not currently have access to view this page. It may be that the site has not yet been published by the teaching staff, or that access to the site is restricted.</p><p>If you think you should have access, please use the "Help" link to contact support.</p>'})}}));


// e6f7dde71f926f49a898a7f3f72e645d70e25a7a refs/tags/v2.13 tag/v2.13


